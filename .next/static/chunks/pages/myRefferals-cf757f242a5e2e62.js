(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{5397:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/myRefferals",function(){return n(2571)}])},6119:function(e,t){"use strict";t.Z={src:"/_next/static/media/arrow.14c7410d.svg",height:16,width:16}},2571:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r,s=n(5893),o=n(7294),a=n(4051),c=n.n(a),i=n(1163),d=n(9669),l=n.n(d),u=n(6119),f=n(8369),h=n(766),p=n(3149),x=n(4082);function j(e,t,n,r,s,o,a){try{var c=e[o](a),i=c.value}catch(d){return void n(d)}c.done?t(i):Promise.resolve(i).then(r,s)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var o=e.apply(t,n);function a(e){j(o,r,s,a,c,"next",e)}function c(e){j(o,r,s,a,c,"throw",e)}a(void 0)}))}}var v=function(){var e=(0,o.useState)([]),t=e[0],n=e[1],a=(0,i.useRouter)(),d=(0,o.useState)(!1),j=d[0],v=d[1],g=(0,o.useState)(0),y=g[0],b=g[1],k=(0,o.useState)(0),w=k[0],N=k[1],_=(0,o.useState)(!0),S=_[0],C=_[1],Z=function(){var e=m(c().mark((function e(){var t,r,s,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),r=localStorage.getItem("buttonValue"),s={buttonValue:r},C(!0),e.next=7,l().post("/api/myrefferals",{token:t,data:s});case 7:o=e.sent,(a=o.data).data.data.data2&&a.data.data.data2.length>0?N(a.data.data.data2[0].total):console.error("Data2 array is empty or undefined"),a.data.data.data1&&a.data.data.data1.length>0?b(a.data.data.data1[0].total):console.error("Data1 array is empty or undefined"),a.data.data.addSlote?n(a.data.data.addSlote):console.error("addSlote data is empty or undefined"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:return e.prev=17,C(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(){return e.apply(this,arguments)}}();function D(){return(D=m(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{v(!j),r=t,console.log(r,"userId")}catch(n){console.log(n,"api error here")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(){var e=m(c().mark((function e(t){var n,s,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={id:r},console.log(n,"moon hererererererere "),s=localStorage.getItem("token"),e.next=6,l().post("/api/deleteuser",{token:s,data:n});case 6:o=e.sent,a=o.data,console.log(a,"response data"),v(!1),console.log("model closed"),setTimeout((function(){window.location.reload()}),1e3),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){Z()}),[]),(0,s.jsxs)("div",{children:[S&&(0,s.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",backgroundColor:"#15a384",padding:"20px",borderRadius:"10px"},children:(0,s.jsx)("p",{style:{color:"#fff"},children:"Loading..."})}),(0,s.jsx)("div",{className:"row justify-content-center"}),(0,s.jsx)("div",{style:{marginBottom:"10px",backgroundColor:"#f8f9fa",padding:"10px",borderRadius:"1px"},children:(0,s.jsxs)("h4",{style:{margin:0,color:"#007bff"},children:["Total Users: ",y]})}),(0,s.jsx)("div",{style:{marginBottom:"10px",backgroundColor:"#f8f9fa",padding:"10px",borderRadius:"1px"},children:(0,s.jsxs)("h4",{style:{margin:0,color:"#007bff"},children:["Today's Users: ",w]})}),(0,s.jsxs)(f.Z,{toggle:function(){return setdeleteModelOpen(!j)},isOpen:j,children:[(0,s.jsxs)("div",{className:"modal-header d-flex justify-content-between align-items-center m-0",children:[(0,s.jsx)("h5",{className:"modal-title",children:"Do You Want To Delete User"}),(0,s.jsx)("button",{"aria-label":"Close",className:"close",type:"button",onClick:function(){return v(!j)},children:(0,s.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),(0,s.jsx)(h.Z,{}),(0,s.jsxs)(p.Z,{children:[(0,s.jsx)(x.Z,{color:"secondary",type:"button",onClick:function(){return v(!j)},children:"Close"}),(0,s.jsx)(x.Z,{color:"primary",type:"button",onClick:R,children:"Delete User"})]})]}),(0,s.jsx)("section",{className:"profile-sec",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsx)("div",{className:"row justify-content-center",children:(0,s.jsxs)("form",{className:"input-sec",id:"ref-code",children:[(0,s.jsxs)("h3",{className:"heading-text pink-text mt-2",children:[(0,s.jsx)("span",{className:"arrows-icon",id:"left-rfset",style:{position:"relative",left:"-44%",cursor:"pointer"},children:(0,s.jsx)("img",{src:u.Z.src,onClick:function(){return a.back()}})}),"All Users"]}),(0,s.jsxs)("table",{className:"table funds-table mt-3",id:"funds-color",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{id:"fuds",scope:"col",children:"Sr. No."}),(0,s.jsx)("th",{id:"fuds",scope:"col",children:"Name"}),(0,s.jsx)("th",{id:"fuds",scope:"col",children:"ReferBy"}),(0,s.jsx)("th",{id:"fuds",scope:"col",children:"Balance"}),(0,s.jsx)("th",{id:"fuds",scope:"col",children:"MobileNumber"}),(0,s.jsx)("th",{id:"fuds",scope:"col",children:"Show_count"}),(0,s.jsx)("th",{id:"fuds",scope:"col",children:"Click_count"}),(0,s.jsx)("th",{id:"fuds",scope:"col",children:"Delete User"})]})}),(0,s.jsx)("tbody",{children:t.length>0?t.map((function(e,t){return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e.firstName}),(0,s.jsx)("td",{children:e.refferedBy}),(0,s.jsx)("td",{children:e.balance}),(0,s.jsx)("td",{children:e.mobileNumber}),(0,s.jsx)("td",{children:e.show_count}),(0,s.jsx)("td",{children:e.click_count}),(0,s.jsx)("td",{children:(0,s.jsx)(x.Z,{color:"danger",type:"button",onClick:function(){return function(e){return D.apply(this,arguments)}(e.id)},children:"Delete"})})]},e._id)})):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"4",children:"No data found"})})})]})]})})})})]})},g=n(9008),y=n.n(g),b=(n(3299),function(){return(0,s.jsxs)("div",{children:[(0,s.jsx)(y(),{children:(0,s.jsx)("title",{children:"My Refferals"})}),(0,s.jsx)(v,{})]})})},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[82,565,774,888,179],(function(){return t=5397,e(e.s=t);var t}));var t=e.O();_N_E=t}]);