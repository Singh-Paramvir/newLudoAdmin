(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[104],{9205:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/userhis",function(){return r(2643)}])},2643:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return j}});var t,o=r(5893),s=r(7294),i=(r(444),r(4051)),c=r.n(i),l=(r(1664),r(1163)),a=r(9669),d=r.n(a),u=r(6119);r(2920),r(4213);function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function h(e,n,r,t,o,s,i){try{var c=e[s](i),l=c.value}catch(a){return void r(a)}c.done?n(l):Promise.resolve(l).then(t,o)}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,s=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(s.push(t.value),!n||s.length!==n);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return s}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return f(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var x=function(){var e=(0,l.useRouter)(),n=e.query,r=n.id,i=n.mobileNumber,a=(0,s.useState)([]),f=a[0],x=a[1],j=((0,s.useRef)(),(0,s.useRef)(),(0,s.useState)(null)),m=(j[0],j[1],p(s.useState(!1),2));m[0],m[1];return(0,s.useEffect)((function(){var e=function(){var e,n=(e=c().mark((function e(){var n,o,s,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Received id:",r),console.log("Received mobileNumber:",i),t=i,console.log(t,"here I want"),n={id:r,mobileNumber:t},console.log("Request data:",n),o=localStorage.getItem("token"),e.prev=7,e.next=10,d().post("/api/userHis",{token:o,data:n});case 10:s=e.sent,console.log("Response data:",s.data),l=s.data.data.data,x(l),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.error("Error fetching data:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[7,16]])})),function(){var n=this,r=arguments;return new Promise((function(t,o){var s=e.apply(n,r);function i(e){h(s,t,o,i,c,"next",e)}function c(e){h(s,t,o,i,c,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();r?e():console.log("queryId is undefined.")}),[r,i]),console.log("Referrals:",f),(0,o.jsx)("div",{children:(0,o.jsx)("section",{className:"profile-sec",children:(0,o.jsx)("div",{className:"container",children:(0,o.jsx)("div",{className:"row justify-content-center",children:(0,o.jsxs)("form",{className:"input-sec",id:"ref-code",children:[(0,o.jsxs)("h3",{className:"heading-text pink-text mt-2",children:[(0,o.jsx)("span",{className:"arrows-icon",id:"left-rfset",style:{position:"relative",left:"-44%",cursor:"pointer"},children:(0,o.jsx)("img",{src:u.Z.src,onClick:function(){return e.back()}})}),"UserHistory"]}),(0,o.jsxs)("table",{className:"table funds-table mt-3",id:"funds-color",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{id:"fuds",scope:"col",children:"Sr. No."}),(0,o.jsx)("th",{id:"fuds",scope:"col",children:"Email"}),(0,o.jsx)("th",{id:"fuds",scope:"col",children:"UserId"}),(0,o.jsx)("th",{id:"fuds",scope:"col",children:"Win"}),(0,o.jsx)("th",{id:"fuds",scope:"col",children:"Lose"}),(0,o.jsx)("th",{id:"fuds",scope:"col",children:"Players"}),(0,o.jsx)("th",{id:"fuds",scope:"col",children:"Position"}),(0,o.jsx)("th",{id:"fuds",scope:"col",children:"date"})]})}),(0,o.jsx)("tbody",{children:f.length>0?f.map((function(e,n){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:n+1}),(0,o.jsx)("td",{children:t}),(0,o.jsx)("td",{children:e.userId}),(0,o.jsx)("td",{children:e.win}),(0,o.jsx)("td",{children:e.lose}),(0,o.jsx)("td",{children:e.players}),(0,o.jsx)("td",{children:e.position}),(0,o.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"})}),console.log("Rendering row:",e)," "]},e._id)})):(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:"4",children:"No data found"})})})]})]})})})})})},j=function(){return(0,o.jsx)("div",{children:(0,o.jsx)(x,{})})}}},function(e){e.O(0,[444,774,888,179],(function(){return n=9205,e(e.s=n);var n}));var n=e.O();_N_E=n}]);